{% extends '../messagesBase.html' %}
{% block entity %}
{% load static %}

<h2>Data import from Notoria</h2>

<form method="post">
    {% csrf_token %}
    <div class="col-sm-4 col-xs-4">
        <fieldset class="border m-3 p-2">
            <legend class="form-legend">{{form.bs_sheet}}</legend>
            {{form.chosen_sheets_bs}}
        </fieldset>
        <fieldset class="border m-3 p-2">
            <legend class="form-legend">{{form.fr_sheet}}</legend>
            {{form.chosen_sheets_fr}}
        </fieldset>
        <fieldset class="border m-3 p-2">
            <legend class="form-legend">{{form.dp_sheet}}</legend>
            {{form.chosen_sheets_dp}}
        </fieldset>
        <div class="form-group m-3">
            <label for="file_path">Pass path to file: </label>
            <input class="form-control" id="file_path" type="text" name="file_path" value="{{ file_path }}">
        </div>
        <div class="form-group float-md-right submit-button">
            <input class="btn btn-dark" type="submit" value="Import">
        </div>
    </div>
</form>
<div id="pop-up-bs" class="modal fade" role="dialog">
    {% if error_bs %}
    {% include "import/overlapping_notoria_details.html" with error=error_bs sheet='bs' overlap=overlap_bs %}
    {% endif %}
</div>
<div id="pop-up-fr" class="modal fade" role="dialog">
    {% if error_fr %}
    {% include "import/overlapping_notoria_details.html" with error=error_fr sheet='fr' overlap=overlap_fr %}
    {% endif %}
</div>
<div id="pop-up-dp" class="modal fade" role="dialog">
    {% if error_dp %}
    {% include "import/overlapping_notoria_details.html" with error=error_dp sheet='dp' overlap=overlap_dp %}
    {% endif %}
</div>
<div id="unification-modal" class="modal fade" role="dialog">
    {% if unification_form %}
        {% include "import/company_unification_details.html" %}
    {% endif %}
</div>

{{ form.errors }}
{{ form.non_field_errors }}
{% endblock %}
